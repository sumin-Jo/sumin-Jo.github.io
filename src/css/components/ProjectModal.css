/* ===== ProjectModal — 카드 톤과 통일 (유리감/라운드/그라디언트 라인) ===== */

.pm-backdrop {
  position: fixed;
  inset: 0;
  z-index: 1000;
  display: grid;
  place-items: center;
  padding: 16px;
  background: rgba(0,0,0,.45);
  -webkit-backdrop-filter: blur(3px);
  backdrop-filter: blur(3px);
  isolation: isolate;
}

.pm-dialog {
  width: min(880px, 96vw);
  max-height: min(86vh, 100%);
  overflow: auto;
  background:
    linear-gradient(180deg, rgba(14,18,26,.88), rgba(14,18,26,.82)),
    linear-gradient(180deg, rgba(255,255,255,.03), rgba(255,255,255,0));
  color: var(--text, #e6eaf2);
  border: 1px solid rgba(127,127,127,.20);
  border-color: rgba(255,255,255,.16);
  border-radius: 16px;
  box-shadow: 0 10px 40px rgba(0,0,0,.38);
  position: relative;
}

@media (prefers-reduced-motion: no-preference){
  .pm-dialog { animation: pmIn .18s ease-out; }
  @keyframes pmIn {
    from { transform: translateY(4px); opacity:.96; }
    to   { transform: translateY(0);   opacity:1; }
  }
}

/* 상단 얇은 그라디언트 라인 */
.pm-accent {
  content: "";
  position: sticky;
  top: 0;
  display: block;
  height: 3px;
  border-top-left-radius: 16px;
  border-top-right-radius: 16px;
  background: linear-gradient(90deg, var(--brand, #7c9bff), var(--brand-2, #9b7cff));
  z-index: 2;
}

/* 헤더 */
.pm-header {
  position: sticky;
  top: 3px;
  display: grid;
  grid-template-columns: 1fr auto;
  align-items: center;
  gap: 12px;
  padding: 14px 16px;
  background: color-mix(in oklab, var(--bg, #0b0f17) 96%, transparent);
  border-bottom: 1px solid rgba(127,127,127,.15);
  border-color: rgba(127,127,127,.22);
  z-index: 1;
  backdrop-filter: blur(4px);
  -webkit-backdrop-filter: blur(4px);
}

.pm-titles { min-width: 0; }
.pm-title {
  margin: 0;
  font-size: 1.25rem;
  font-weight: 800;
  letter-spacing: .1px;
  line-height: 1.25;
  color: #f3f6ff;
}
.pm-sub {
  margin: 6px 0 0 0;
  color: #bcc6d6;
  font-size: .9rem;
  display: flex;
  align-items: center;
  gap: 8px;
}
.pm-dot { opacity: .6; }

/* 닫기 버튼 */
.pm-close {
  appearance: none;
  border: 1px solid rgba(255,255,255,.18);
  background: rgba(255,255,255,.06);
  color: inherit;
  font-size: 18px;
  line-height: 1;
  padding: 6px 10px;
  border-radius: 10px;
  cursor: pointer;
  box-shadow: inset 0 -1px 0 rgba(255,255,255,.06);
  transition: background .15s ease, border-color .15s ease, transform .06s ease;
}
.pm-close:hover { background: rgba(255,255,255,.10); border-color: rgba(255,255,255,.28); }
.pm-close:active { transform: translateY(1px); }
.pm-close:focus-visible { outline: 2px solid rgba(124,156,255,.6); outline-offset: 2px; }

/* 커버 */
.pm-cover img {
  display: block;
  width: 100%;
  height: auto;
  aspect-ratio: 16 / 9;
  object-fit: cover;
  border-top-left-radius: 16px;
  border-top-right-radius: 16px;
}

/* 본문 그리드 */
.pm-body {
  display: grid;
  grid-template-columns: 1fr 300px;
  gap: 16px;
  padding: 12px 16px 16px;
}
@media (max-width: 820px){
  .pm-body { grid-template-columns: 1fr; }
}

/* 본문 블록 */
.pm-block { padding: 12px 0 0 0; }
.pm-block + .pm-block { border-top: 1px dashed rgba(127,127,127,.18); margin-top: 12px; }
.pm-block h4 {
  margin: 0 0 6px 0;
  font-size: 1rem;
  color: #c7d1e0;
  font-weight: 700;
}
.pm-block p {
  margin: 0;
  color: #dfe6f3;
  font-size: 1.02rem;
  line-height: 1.7;
}

/* 사이드 카드 */
.pm-aside { display: grid; gap: 12px; }
.pm-aside-card {
  padding: 12px;
  border-radius: 12px;
  background: rgba(127,127,127,.06);
  border: 1px solid rgba(127,127,127,.20);
  color: #e8eef9;
}
.pm-aside-title {
  font-size: .85rem;
  color: #c0cad9;
  font-weight: 600;
  margin-bottom: 6px;
}

/* 회사 배지 */
.pm-badge {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  background: var(--brand, #3b82f6);
  color: #fff;
  border-radius: 999px;
  padding: 4px 10px;
  font-size: .8rem;
  border: 1px solid rgba(255,255,255,.18);
}

/* 칩 */
.pm-techs {
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
}
.pm-chip {
  border: 1px solid rgba(127,127,127,.24);
  background: rgba(255,255,255,.14);
  color: #eef3ff;
  padding: 4px 10px;
  border-radius: 999px;
  font-size: .8rem;
  line-height: 1.1;
}
.pm-chip.tool-chip {
  background: rgba(124,156,255,.16);
  border-color: rgba(124,156,255,.35);
  color: #e9eeff;
}

/* 링크 */
.pm-links { display: flex; flex-wrap: wrap; gap: 8px; }
.pm-btn {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 8px 12px;
  border-radius: 10px;
  border: 1px solid rgba(127,127,127,.26);
  background: rgba(255,255,255,.10);
  color: inherit;
  text-decoration: none;
  transition: background .15s ease, border-color .15s ease, transform .06s ease;
}
.pm-btn:hover { background: rgba(255,255,255,.14); border-color: rgba(127,127,127,.34); }
.pm-btn:active { transform: translateY(1px); }
.pm-btn:focus-visible { outline: 2px solid rgba(124,156,255,.6); outline-offset: 2px; }

/* 칩 그룹 */
.pm-stack-card { padding: 12px; }
.pm-chip-group { display: grid; gap: 8px; }
.pm-chip-group-head { display: flex; align-items: center; gap: 8px; }
.pm-chip-group-title {
  font-size: .86rem;
  font-weight: 700;
  letter-spacing: .2px;
  color: #c7d1e0;
}
.pm-chip-group-body { display: flex; flex-wrap: wrap; gap: 8px; }
.pm-chip-group-sep {
  height: 1px;
  background: linear-gradient(90deg, transparent, rgba(127,127,127,.22), transparent);
  margin: 8px 0;
}

/* 스크롤 잠금 */
body:has(.pm-backdrop) { overflow: hidden; }

/* 스크롤바 */
.pm-dialog::-webkit-scrollbar { width: 10px; }
.pm-dialog::-webkit-scrollbar-track { background: transparent; }
.pm-dialog::-webkit-scrollbar-thumb {
  background: rgba(255,255,255,.22);
  border-radius: 8px;
  border: 2px solid transparent;
  background-clip: padding-box;
}

/* === 라이트 모드 === */
body.light .pm-backdrop {
  background: rgba(0,0,0,.25);
  -webkit-backdrop-filter: blur(2px);
  backdrop-filter: blur(2px);
}
body.light .pm-dialog {
  background:
    linear-gradient(180deg, rgba(255,255,255,.96), rgba(255,255,255,.94)), 
    linear-gradient(180deg, rgba(0,0,0,.02), rgba(0,0,0,0));
  color: #111827;
  border: 1px solid rgba(0,0,0,.08);
  box-shadow: 0 10px 30px rgba(0,0,0,.16);
}
body.light .pm-header {
  background: color-mix(in oklab, #fff 92%, transparent);
  border-color: rgba(0,0,0,.08);
}
body.light .pm-title { color:#0f172a; }
body.light .pm-sub { color:#475569; }
body.light .pm-block h4 { color: #1f2937; }
body.light .pm-block p {
  color: #111827;
  font-size: 1.02rem;
  line-height: 1.7;
}
body.light .pm-aside-card {
  background: rgba(0,0,0,.035);
  border-color: rgba(0,0,0,.12);
}
body.light .pm-aside-title {
  color: #0f172a;  /* 더 진하게 */
  font-weight: 700;
}
body.light .pm-chip-group-title {
  color: #0f172a;  /* 칩 그룹 타이틀도 더 진하게 */
  font-weight: 700;
}
body.light .pm-chip {
  background: rgba(0,0,0,.06);
  border-color: rgba(0,0,0,.16);
  color: #111827;
  font-weight: 600;
}
body.light .pm-chip.tool-chip {
  background: rgba(124,156,255,.20);
  border-color: rgba(124,156,255,.35);
  color: #1e293b;
  font-weight: 600;
}
body.light .pm-btn {
  background:#f8f9fb;
  border-color:#dbe1ea;
}
body.light .pm-btn:hover {
  background:#eef2f7;
  border-color:#cfd6e1;
}
body.light .pm-close {
  color:#111827;
  background:#f7f8fa;
  border-color:#d0d7e2;
  box-shadow: none;
}
body.light .pm-close:hover {
  background:#eef2f7;
  border-color:#c4ccd9;
}
