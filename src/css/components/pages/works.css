/* Container */
.works-wrap {
    padding: 3rem 1rem;
}
.works-hero {
    text-align: center;
    margin-bottom: 2rem;
}
.works-title {
    font-size: 2rem;
    font-weight: 800;
    margin: 0;
}
.works-sub {
    color: var(--muted, #9aa3b2);
    margin-top: .375rem;
}

/* Filter Section */
.works-filters {
    position: sticky;
    top: 64px;
    z-index: 8;
    background: color-mix(in oklab, var(--bg, #0b0f17) 88%, transparent);
    -webkit-backdrop-filter: blur(8px);
    backdrop-filter: blur(8px);
    isolation: isolate;
    padding: .9rem 0 .95rem;
    border-bottom: 1px solid rgba(127,127,127,.18);
    margin-bottom: 1rem;
}
.works-filters::after {
    content: "";
    position: absolute;
    left: 0;
    right: 0;
    bottom: -10px;
    height: 10px;
    pointer-events: none;
    background: linear-gradient(180deg, rgba(0,0,0,.18), rgba(0,0,0,0));
}
.works-filters + .works-grid {
    margin-top: .35rem;
}

@media (max-width: 720px) {
    .works-filters .row {
        gap: .45rem;
    }
    .search-input {
        min-width: 0;
        flex: 1 1 100%;
    }
    .sort-select {
        flex-shrink: 0;
    }
    .chips-row, .selects-row {
        row-gap: .35rem;
    }
}

.works-filters .row {
    display: flex;
    gap: .5rem;
    flex-wrap: wrap;
    align-items: center;
    padding: 0 0 10px 0;
}
.search-row {
    justify-content: space-between;
}
.search-input {
    flex: 1;
    min-width: 220px;
    padding: .65rem .8rem;
    border: 1px solid rgba(127,127,127,.25);
    border-radius: .75rem;
    background: transparent;
    color: inherit;
}
.sort-select {
    padding: .55rem .7rem;
    border-radius: .6rem;
    border: 1px solid rgba(127,127,127,.25);
    background: transparent;
}

.chips-row {
    margin-top: .5rem;
}
.chip {
    border: 1px solid rgba(127,127,127,.25);
    background: rgba(127,127,127,.06);
    padding: .4rem .65rem;
    border-radius: 999px;
    cursor: pointer;
    transition: .15s;
}
.chip.on {
    background: rgba(124,156,255,.18);
    border-color: rgba(124,156,255,.5);
    box-shadow: inset 0 0 0 1px rgba(124,156,255,.25);
}

.selects-row {
    margin-top: .25rem;
}
.selects-row select {
    padding: .5rem .7rem;
    border-radius: .6rem;
    border: 1px solid rgba(127,127,127,.25);
    background: transparent;
}
.reset-btn {
    margin-left: auto;
    background: transparent;
    border: 1px dashed rgba(127,127,127,.35);
    padding: .45rem .7rem;
    border-radius: .6rem;
}

/* Grid */
.works-grid {
    display: grid;
    grid-template-columns: repeat(1, minmax(0, 1fr));
    gap: 1rem;
}
@media (min-width:720px) {
    .works-grid {
        grid-template-columns: repeat(2, minmax(0, 1fr));
    }
}
@media (min-width:1120px) {
    .works-grid {
        grid-template-columns: repeat(3, minmax(0, 1fr));
    }
}

/* Card */
.work-card {
    position: relative;
    display: flex;
    flex-direction: column;
    padding: 1.35rem 1.25rem 1.15rem;
    border-radius: 1rem;
    background: linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,0));
    border: 1px solid rgba(127,127,127,.20);
    transition: transform .12s ease, border-color .2s ease, box-shadow .2s ease;
    cursor: pointer;
}
.work-card:hover {
    transform: translateY(-2px);
    border-color: rgba(124,156,255,.45);
    box-shadow: 0 8px 24px rgba(0,0,0,.12);
}

.work-card .dot {
    display: none;
}

/* 상단 메타 라인 */
.meta-line {
    display: flex;
    gap: .5rem;
    align-items: center;
    margin-bottom: .5rem;
    min-height: 28px;
}
.badge {
    font-size: .75rem;
    padding: .18rem .55rem;
    border-radius: .6rem;
    border: 1px solid transparent;
    background: rgba(127,127,127,.12);
}
.sub {
    color: var(--muted, #9aa3b2);
    font-size: .86rem;
    line-height: 1;
}
.meta-line .sub::before {
    content: "/";
    margin: 0 .5rem 0 .25rem;
    opacity: .45;
}

/* 타이틀/설명 */
.ttl {
    font-size: 1.18rem;
    font-weight: 750;
    margin: .3rem 0 .55rem;
}
.desc {
    color: #b9c2cf;
    font-size: .95rem;
    line-height: 1.5;
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
    margin-bottom: 1rem;
}

/* Metric Chips */
.meta-stats.chips {
    margin-top: auto;
    display: flex;
    flex-wrap: wrap;
    justify-content: flex-start;
    gap: .75rem;
}
.stat-chip {
    position: relative;
    display: inline-flex;
    align-items: center;
    gap: .7rem;
    padding: .6rem .95rem;
    min-width: 108px;
    border-radius: 18px;
    border: 1px solid rgba(255,255,255,.10);
    background: rgba(255,255,255,.03);
    box-shadow: 0 4px 12px rgba(0,0,0,.10);
    transition: transform .18s ease, box-shadow .2s ease, background .2s ease;
    flex: 1 1 auto;
}
.stat-chip:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 20px rgba(0,0,0,.2);
}
.stat-chip .chip-icon {
    width: 26px;
    height: 26px;
    display: grid;
    place-items: center;
    border-radius: 50%;
    background: var(--icon-bg);
    box-shadow: 0 0 8px var(--icon-shadow);
    color: #fff;
}
.stat-chip .chip-main {
    display: grid;
    line-height: 1.1;
}
.stat-chip .chip-num {
    font-size: 1.12rem;
    font-weight: 800;
    color: var(--chip-num-color);
    letter-spacing: .2px;
}
.stat-chip .chip-label {
    font-size: .72rem;
    font-weight: 600;
    color: var(--chip-label-color);
    letter-spacing: .35px;
    margin-top: 2px;
}
@media (max-width: 720px) {
    .stat-chip {
        min-width: 0;
        justify-content: center;
        text-align: center;
    }
    .stat-chip .chip-icon {
        display: none;
    }
    .stat-chip .chip-main {
        text-align: center;
    }
}
@media (min-width: 860px) {
    .stat-chip {
        flex: 0 0 auto;
    }
}

/* Color Themes */
.stat-chip.year {
    --icon-bg: #10b981;
    --icon-shadow: rgba(16, 185, 129, .6);
    --chip-num-color: #e2fbe3;
    --chip-label-color: #7a8aa0;
    background: linear-gradient(135deg, rgba(16, 185, 129, .1), rgba(16, 185, 129, 0));
}
.stat-chip.count {
    --icon-bg: #3b82f6;
    --icon-shadow: rgba(59, 130, 246, .6);
    --chip-num-color: #e3f2ff;
    --chip-label-color: #7a8aa0;
    background: linear-gradient(135deg, rgba(59, 130, 246, .1), rgba(59, 130, 246, 0));
}

/* Modal header scale */
.meta-stats.chips.lg {
    justify-content: flex-end;
    gap: 1.25rem;
}
.meta-stats.chips.lg .stat-chip {
    transform: scale(1.05);
}

/* Light mode */
body.light .stat-chip {
    background: #f7f8fa;
    border-color: #e2e8f0;
    box-shadow: 0 4px 10px rgba(0, 0, 0, .06);
}
body.light .stat-chip.year {
    --icon-bg: #6ee7b7;
    --icon-shadow: rgba(110, 231, 183, .6);
    --chip-num-color: #0d282e;
    --chip-label-color: #4b5563;
    background: linear-gradient(135deg, rgba(110, 231, 183, .25), rgba(110, 231, 183, 0));
}
body.light .stat-chip.count {
    --icon-bg: #93c5fd;
    --icon-shadow: rgba(147, 197, 253, .6);
    --chip-num-color: #1e40af;
    --chip-label-color: #4b5563;
    background: linear-gradient(135deg, rgba(147, 197, 253, .25), rgba(147, 197, 253, 0));
}

/* Modal */
.work-modal {
    position: fixed;
    inset: 0;
    z-index: 999;
    display: grid;
    place-items: center;
    padding: 1rem;
    background: rgba(0, 0, 0, .45);
    -webkit-backdrop-filter: blur(3px);
    backdrop-filter: blur(3px);
    isolation: isolate;
}
.work-dialog {
    width: min(760px, 96vw);
    background: color-mix(in oklab, var(--bg, #0b0f17) 96%, #000 4%);
    border: 1px solid rgba(255,255,255,.08);
    border-radius: 14px;
    padding: 1.5rem 2rem;
    box-shadow: 0 10px 40px rgba(0,0,0,.38);
    isolation: isolate;
    transform: translateY(0);
}
.work-dialog .badge {
    display: inline-flex;
    align-items: center;
    padding: .2rem .6rem;
    border-radius: .5rem;
}
@media (prefers-reduced-motion: no-preference) {
    .work-dialog {
        animation: dialogIn .18s ease-out;
    }
    @keyframes dialogIn {
        from {
            transform: translateY(4px);
            opacity: .96;
        }
        to {
            transform: translateY(0);
            opacity: 1;
        }
    }
}
body:has(.work-modal) {
    overflow: hidden;
}
body:has(.work-modal) .works-grid .work-card:hover {
    transform: none;
    border-color: rgba(127,127,127,.2);
}
.work-dialog-head {
    display: flex;
    flex-direction: column;
    gap: 1rem;
    margin-bottom: 1.5rem;
}
.work-dialog-head .badge {
    align-self: flex-start;
}
.work-dialog-left {
    display: flex;
    flex-direction: column;
    gap: 0.25rem;
}
.work-dialog h3 {
    margin: .25rem 0 .5rem;
    font-size: 1.75rem;
}
.desc-lg {
    color: #c8d1df;
    line-height: 1.6;
    margin-top: .25rem;
}
.work-dialog-actions {
    display: flex;
    justify-content: flex-end;
    align-items: center;
    margin-top: 1.5rem;
}
.work-dialog-actions .close-btn {
    margin: 0 auto;
    font-size: 1.2rem;
    padding: .8rem 1.5rem;
    border-radius: 1rem;
    font-weight: 600;
}
.close-btn {
    color: #e8eef8;
    background: rgba(255,255,255,.06);
    border: 1px solid rgba(255,255,255,.18);
    box-shadow: inset 0 -1px 0 rgba(255,255,255,.06);
    transition: background .15s ease, border-color .15s ease;
    padding: .6rem 1rem;
    border-radius: .75rem;
    cursor: pointer;
}
.close-btn:hover {
    background: rgba(255,255,255,.10);
    border-color: rgba(255,255,255,.28);
}
body.light .work-dialog {
    background: #fff;
    color: #111827;
    border-color: rgba(0,0,0,.08);
    box-shadow: 0 10px 30px rgba(0,0,0,.16);
}
body.light .work-dialog h3 {
    color: #0f172a;
}
body.light .work-dialog .desc-lg {
    color: #374151;
}
body.light .work-dialog .sub {
    color: #6b7280;
}
body.light .close-btn {
    color: #111827;
    background: #f7f8fa;
    border-color: #d0d7e2;
}
body.light .close-btn:hover {
    background: #eef2f7;
    border-color: #c4ccd9;
}

/* Color Keys */
.k-red {
    background: #ef4444;
    color: #fff;
    border-color: #ef4444;
}
.k-amber {
    background: #f59e0b;
    color: #111;
    border-color: #f59e0b;
}
.k-cyan {
    background: #06b6d4;
    color: #111;
    border-color: #06b6d4;
}
.k-violet {
    background: #8b5cf6;
    color: #fff;
    border-color: #8b5cf6;
}
.k-emerald {
    background: #10b981;
    color: #111;
    border-color: #10b981;
}
.k-blue {
    background: #3b82f6;
    color: #fff;
    border-color: #3b82f6;
}
.k-gray {
    background: #6b7280;
    color: #fff;
    border-color: #6b7280;
}
.k-red.dot, .k-amber.dot, .k-cyan.dot, .k-violet.dot, .k-emerald.dot, .k-blue.dot, .k-gray.dot {
    border: none;
}

/* Section Header */
.works-sec {
    padding-top: 2rem;
}
.works-head {
    display: flex;
    align-items: flex-end;
    justify-content: space-between;
    gap: 1rem;
    margin: 0 0 1rem;
}
.works-title {
    margin: 0;
    font-size: 2rem;
    font-weight: 800;
    line-height: 1.1;
}
.k-grad {
    background: linear-gradient(90deg, var(--brand, #7c9bff), var(--brand-2, #9b7cff));
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
}
.works-more {
    color: var(--muted, #aab4c3);
    font-weight: 600;
    text-decoration: none;
    transition: .15s ease;
}
.works-more:hover {
    color: #fff;
    text-decoration: underline;
}
.works-sub {
    margin: 0 0 1rem;
    color: var(--muted, #9aa3b2);
}

/* Filter Section Tones */
body:not(.light) .works-filters .search-input,
body:not(.light) .works-filters .sort-select,
body:not(.light) .works-filters select {
    background: rgba(255,255,255,.05);
    color: var(--text);
    border: 1px solid rgba(255,255,255,.18);
}
body:not(.light) .works-filters .search-input::placeholder {
    color: rgba(255,255,255,.45);
}
body:not(.light) .works-filters .chip {
    color: #dfe5f1;
    background: rgba(255,255,255,.06);
    border: 1px solid rgba(255,255,255,.18);
}
body:not(.light) .works-filters .chip:hover {
    background: rgba(255,255,255,.10);
}
body:not(.light) .works-filters .chip.on {
    color: #f7faff;
    background: rgba(124,156,255,.22);
    border-color: rgba(124,156,255,.55);
    box-shadow: inset 0 0 0 1px rgba(124,156,255,.25);
}
body:not(.light) .works-filters select option {
    background: var(--panel);
    color: var(--text);
}
.works-filters .sort-select {
    appearance: none;
    border-radius: .65rem;
    padding: .55rem .9rem;
    border: 1px solid var(--border);
    line-height: 1.2;
}
body:not(.light) .works-filters .sort-select {
    background: var(--bg);
    color: #fff;
    border-color: rgba(255,255,255,.18);
}
body.light .works-filters .sort-select {
    background: #fff;
    color: #111;
    border-color: #ddd;
}
body:not(.light) .works-filters .sort-select option {
    background: var(--bg);
    color: #fff;
}
body.light .works-filters .sort-select option {
    background: #fff;
    color: #111;
}
.works-filters .sort-select option:hover {
    background: rgba(124,156,255,.22);
    color: inherit;
}
body.light .works-filters .chip {
    color: #222;
    background: rgba(0,0,0,.04);
    border: 1px solid rgba(0,0,0,.12);
}
body.light .works-filters .chip.on {
    color: #111;
    background: rgba(124,156,255,.22);
    border-color: rgba(124,156,255,.45);
}
body.light .works-filters .search-input,
body.light .works-filters .sort-select,
body.light .works-filters select {
    background: #fff;
    color: #222;
    border: 1px solid #ddd;
}
body.light .works-filters .search-input::placeholder {
    color: #9aa3ad;
}

body.light .work-modal {
    background: rgba(0, 0, 0, .25);
    -webkit-backdrop-filter: blur(2px);
    backdrop-filter: blur(2px);
}

/* ================= Metric Blocks ================= */
.meta-stats.blocks {
  margin-top: auto;
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: .9rem;
}

.stat-block {
  --accent: #3b82f6;
  --accent-soft: color-mix(in oklab, var(--accent) 18%, transparent);

  display: grid;
  place-items: center;
  text-align: center;
  border-radius: 14px;
  padding: 18px 12px;
  background: color-mix(in oklab, var(--bg) 96%, #000 4%);
  border: 1px solid var(--border);
  box-shadow:
    0 10px 24px rgba(2, 6, 23, .18),
    0 0 0 0 var(--accent-soft); /* hover 시 은은한 링 */
  transition: transform .16s ease, box-shadow .2s ease, background .2s ease;
  min-height: 92px;
}

.stat-block:hover {
  transform: translateY(-2px);
  box-shadow:
    0 18px 40px rgba(2, 6, 23, .28),
    0 0 0 2px var(--accent-soft);
}

.stat-block-num {
  font-weight: 900;
  letter-spacing: .2px;
  line-height: 1;
  font-size: clamp(1.6rem, 1.2rem + 1.4vw, 2.2rem);
  color: var(--accent);                      
  text-shadow: 0 1px 0 rgba(255,255,255,.06);
}

.stat-block-label {
  margin-top: 8px;
  font-size: .98rem;
  font-weight: 600;
  color: var(--muted);
}

.meta-stats.blocks.lg .stat-block {
  padding: 22px 14px;
  min-height: 110px;
}
.meta-stats.blocks.lg .stat-block-num {
  font-size: clamp(1.9rem, 1.4rem + 1.8vw, 2.6rem);
}

body.light .stat-block {
  background: #ffffff;
  border-color: rgba(0,0,0,.08);
  box-shadow:
    0 10px 26px rgba(2,6,23,.08),
    0 0 0 0 var(--accent-soft);
}
body.light .stat-block:hover {
  box-shadow:
    0 18px 38px rgba(2,6,23,.10),
    0 0 0 2px var(--accent-soft);
}

.work-dialog footer {
  display: grid;
  justify-items: center;
  row-gap: 18px;
  padding-top: 6px;
}
.work-dialog footer .meta-stats.blocks.lg { width: 100%; }
.work-dialog footer .close-btn { margin: 0; }