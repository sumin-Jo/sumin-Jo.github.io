/* Container */
.works-wrap {
    padding: 3rem 1rem;
}
.works-hero {
    text-align: center;
    margin-bottom: 2rem;
}
.works-title {
    font-size: 2rem;
    font-weight: 800;
    margin: 0;
}
.works-sub {
    color: var(--muted, #9aa3b2);
    margin-top: .375rem;
}

/* Filter Section */
.works-filters {
    position: sticky;
    top: 64px;
    z-index: 8;
    background: color-mix(in oklab, var(--bg, #0b0f17) 88%, transparent);
    -webkit-backdrop-filter: blur(8px);
    backdrop-filter: blur(8px);
    isolation: isolate;
    padding: .9rem 0 .95rem;
    border-bottom: 1px solid rgba(127,127,127,.18);
    margin-bottom: 1rem;
}
.works-filters::after {
    content: "";
    position: absolute;
    left: 0;
    right: 0;
    bottom: -10px;
    height: 10px;
    pointer-events: none;
    background: linear-gradient(180deg, rgba(0,0,0,.18), rgba(0,0,0,0));
}
.works-filters + .works-grid { margin-top: .35rem; }

@media (max-width: 720px) {
    .works-filters .row { gap: .45rem; }
    .search-input { min-width: 0; flex: 1 1 100%; }
    .sort-select { flex-shrink: 0; }
    .chips-row, .selects-row { row-gap: .35rem; }
}

.works-filters .row {
    display: flex;
    gap: .5rem;
    flex-wrap: wrap;
    align-items: center;
    padding: 0 0 10px 0;
}
.search-row { justify-content: space-between; }
.search-input {
    flex: 1;
    min-width: 220px;
    padding: .65rem .8rem;
    border: 1px solid rgba(127,127,127,.25);
    border-radius: .75rem;
    background: transparent;
    color: inherit;
}
.sort-select {
    padding: .55rem .7rem;
    border-radius: .6rem;
    border: 1px solid rgba(127,127,127,.25);
    background: transparent;
}

.chips-row { margin-top: .5rem; }
.chip {
    border: 1px solid rgba(127,127,127,.25);
    background: rgba(127,127,127,.06);
    padding: .4rem .65rem;
    border-radius: 999px;
    cursor: pointer;
    transition: .15s;
}
.chip.on {
    background: rgba(124,156,255,.18);
    border-color: rgba(124,156,255,.5);
    box-shadow: inset 0 0 0 1px rgba(124,156,255,.25);
}

.selects-row { margin-top: .25rem; }
.selects-row select {
    padding: .5rem .7rem;
    border-radius: .6rem;
    border: 1px solid rgba(127,127,127,.25);
    background: transparent;
}
.reset-btn {
    margin-left: auto;
    background: transparent;
    border: 1px dashed rgba(127,127,127,.35);
    padding: .45rem .7rem;
    border-radius: .6rem;
}

/* Grid */
.works-grid {
    display: grid;
    grid-template-columns: repeat(1, minmax(0, 1fr));
    gap: 1rem;
}
@media (min-width:720px) {
    .works-grid { grid-template-columns: repeat(2, minmax(0, 1fr)); }
}
@media (min-width:1120px) {
    .works-grid { grid-template-columns: repeat(3, minmax(0, 1fr)); }
}

/* Section Header */
.works-sec { padding-top: 2rem; }
.works-head {
    display: flex;
    align-items: flex-end;
    justify-content: space-between;
    gap: 1rem;
    margin: 0 0 1rem;
}
.works-title {
    margin: 0;
    font-size: 2rem;
    font-weight: 800;
    line-height: 1.1;
}
.k-grad {
    background: linear-gradient(90deg, var(--brand, #7c9bff), var(--brand-2, #9b7cff));
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
}
.works-more {
    color: var(--muted, #aab4c3);
    font-weight: 600;
    text-decoration: none;
    transition: .15s ease;
}
.works-more:hover { color: #fff; text-decoration: underline; }
.works-sub { margin: 0 0 1rem; color: var(--muted, #9aa3b2); }

/* Filter Section Tones */
body:not(.light) .works-filters .search-input,
body:not(.light) .works-filters .sort-select,
body:not(.light) .works-filters select {
    background: rgba(255,255,255,.05);
    color: var(--text);
    border: 1px solid rgba(255,255,255,.18);
}
body:not(.light) .works-filters .search-input::placeholder { color: rgba(255,255,255,.45); }
body:not(.light) .works-filters .chip {
    color: #dfe5f1;
    background: rgba(255,255,255,.06);
    border: 1px solid rgba(255,255,255,.18);
}
body:not(.light) .works-filters .chip:hover { background: rgba(255,255,255,.10); }
body:not(.light) .works-filters .chip.on {
    color: #f7faff;
    background: rgba(124,156,255,.22);
    border-color: rgba(124,156,255,.55);
    box-shadow: inset 0 0 0 1px rgba(124,156,255,.25);
}
body:not(.light) .works-filters select option { background: var(--panel); color: var(--text); }
.works-filters .sort-select {
    appearance: none;
    border-radius: .65rem;
    padding: .55rem .9rem;
    border: 1px solid var(--border);
    line-height: 1.2;
}
body:not(.light) .works-filters .sort-select {
    background: var(--bg);
    color: #fff;
    border-color: rgba(255,255,255,.18);
}
body.light .works-filters .sort-select {
    background: #fff;
    color: #111;
    border-color: #ddd;
}
body:not(.light) .works-filters .sort-select option { background: var(--bg); color: #fff; }
body.light .works-filters .sort-select option { background: #fff; color: #111; }
.works-filters .sort-select option:hover { background: rgba(124,156,255,.22); color: inherit; }
body.light .works-filters .chip { color: #222; background: rgba(0,0,0,.04); border: 1px solid rgba(0,0,0,.12); }
body.light .works-filters .chip.on { color: #111; background: rgba(124,156,255,.22); border-color: rgba(124,156,255,.45); }
body.light .works-filters .search-input,
body.light .works-filters .sort-select,
body.light .works-filters select { background: #fff; color: #222; border: 1px solid #ddd; }
body.light .works-filters .search-input::placeholder { color: #9aa3ad; }

/* WorkCard v2 — Year‑focused UI (component scoped)
   - No .works-* selectors
   - Pair with WorkCard.jsx (rev2)
*/
:root {
  --wc-bg: var(--panel, rgba(20,20,20,1));
  --wc-text: var(--text, #e5e7eb);
  --wc-muted: var(--muted, #9aa3b2);
  --wc-border: var(--border, rgba(127,127,127,.18));
}
body.light {
  --wc-bg: #fff;
  --wc-text: #111827;
  --wc-muted: #6b7280;
  --wc-border: rgba(0,0,0,.12);
}

/* ===== Card ===== */
.work-card.v2 {
  position: relative;
  display: grid;
  grid-template-rows: auto auto 1fr auto;
  gap: 10px;
  padding: 16px 16px 14px 16px;
  border-radius: 16px;
  background: var(--wc-bg);
  border: 1px solid var(--wc-border);
  box-shadow: 0 8px 20px rgba(0,0,0,.12);
  transition: transform .12s ease, box-shadow .2s ease, border-color .2s ease;
  cursor: pointer;
}
.work-card.v2:hover { transform: translateY(-2px); box-shadow: 0 14px 34px rgba(0,0,0,.22); border-color: color-mix(in oklab, var(--accent) 40%, transparent); }
.work-card.v2:active { transform: translateY(-1px); }

/* Year ribbon pinned to right edge: makes the YEAR instantly visible on list */
.wc-year-ribbon {
  position: absolute; inset: 0 0 auto auto; width: 94px; height: 94px;
  background: conic-gradient(from 45deg, color-mix(in oklab, var(--accent) 28%, transparent), transparent 45%);
  mask: radial-gradient(120px at 100% 0, #0000 66px, #000 67px) top right;
  pointer-events: none;
}
.wc-year-text {
  position: absolute; top: 8px; right: 10px;
  font-weight: 900; letter-spacing: .4px; color: var(--wc-text);
  font-size: 1.15rem; text-shadow: 0 1px 0 rgba(0,0,0,.18);
}

/* Topline: category */
.wc-topline { display:flex; align-items:center; justify-content:flex-start; min-height: 28px; }
.badge {
  font-size: .78rem; font-weight: 800; letter-spacing: .02em;
  padding: .22rem .6rem; border-radius: .55rem;
  border: 1px solid color-mix(in oklab, var(--accent) 48%, transparent);
  background: color-mix(in oklab, var(--accent) 10%, transparent);
  color: var(--wc-text);
}

/* Title & desc */
.wc-title { margin: 0; font-size: 1.12rem; font-weight: 800; color: var(--wc-text); }
.wc-desc { margin: .2rem 0 .2rem; color: var(--wc-text); opacity: .85; line-height: 1.5; display: -webkit-box; -webkit-line-clamp: 3; -webkit-box-orient: vertical; overflow: hidden; }

/* Footer row: count + stack */
.wc-footer { display:flex; align-items:center; gap: 10px; margin-top: 4px; }
.wc-metric {
  --chip: var(--accent);
  display:inline-grid; grid-template-columns:auto auto; gap: 8px; align-items:baseline;
  padding: .55rem .75rem; border-radius: 12px;
  border: 1px solid color-mix(in oklab, var(--chip) 46%, transparent);
  background: color-mix(in oklab, var(--chip) 10%, transparent);
}
.wc-metric-label { font-size: .78rem; font-weight: 700; color: var(--wc-muted); letter-spacing: .04em; }
.wc-metric-num { font-size: 1.05rem; font-weight: 900; color: var(--wc-text); }
.wc-metric.wide { grid-template-columns:auto 1fr; }

.wc-stack { margin-left: auto; color: var(--wc-muted); font-size: .9rem; overflow:hidden; text-overflow: ellipsis; white-space:nowrap; max-width: 58%; }

/* ===== Modal (rev2) ===== */
.work-dialog.v2 {
  width: min(860px, 94vw);
  border: 1px solid var(--wc-border);
  background: color-mix(in oklab, #fff 6%, transparent);
  border-radius: 18px;
  box-shadow: 0 16px 44px rgba(0,0,0,.35);
  padding: 18px 18px 16px;
}
body.light .work-dialog.v2 { background: color-mix(in oklab, #000 3%, #fff); }

.work-dialog-head { display:flex; align-items:center; gap: 14px; margin-bottom: 10px; }
.wc-year-badge {
  flex: 0 0 auto;
  min-width: 76px; height: 76px; border-radius: 18px;
  display:grid; place-items:center; font-size: 1.35rem; font-weight: 900; color: var(--wc-text);
  background: color-mix(in oklab, var(--accent) 18%, transparent);
  border: 1px solid color-mix(in oklab, var(--accent) 48%, transparent);
  box-shadow: inset 0 0 0 1px color-mix(in oklab, var(--accent) 22%, transparent);
}
.work-dialog-left { display:grid; gap: 6px; }
.work-dialog-left h3 { margin:0; font-size: 1.35rem; font-weight: 900; color: var(--wc-text); }
.work-dialog-left .sub { color: var(--wc-muted); }

.desc-lg { color: var(--wc-text); opacity: .92; line-height: 1.65; }
.wc-dialog-footer { display:flex; align-items:center; gap: 12px; justify-content:flex-end; margin-top: 14px; }

/* Close */
.close-btn { padding: 10px 14px; border: 1px solid var(--wc-border); background: rgba(255,255,255,.06); color: var(--wc-text); border-radius: 10px; font-weight: 800; cursor:pointer; }
body.light .close-btn { background: rgba(0,0,0,.04); }

/* Focus */
.work-card.v2:focus-visible,
.close-btn:focus-visible,
.work-dialog.v2 :is(button,[href],input,select,textarea,[tabindex]:not([tabindex="-1"])):focus-visible {
  outline: 2px solid color-mix(in oklab, var(--accent) 80%, transparent);
  outline-offset: 2px;
  border-radius: 10px;
}

/* Category palettes (reuse keys) */
.k-red{--accent:#ef4444}.k-amber{--accent:#f59e0b}.k-cyan{--accent:#06b6d4}.k-violet{--accent:#8b5cf6}.k-emerald{--accent:#10b981}.k-blue{--accent:#3b82f6}.k-gray{--accent:#6b7280}

/* Responsive */
@media (max-width:640px){
  .wc-stack{display:none}
  .wc-year-text{font-size:1.05rem}
}
